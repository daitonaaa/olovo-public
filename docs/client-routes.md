# Организация роутинга

В основном для определения целевых разделов в приложении используются
динамические импорты и конфигурации.

## На роутинг влияют
Снизу вверх по приоритетам

1) Страницы из коробочной директории `pages`
2) Страницы шаблона `templates/{name}/pages/index.ts` (конфиг)
3) Страницы из административного интерфейса, создание страниц или crud


### 1) Страницы из коробочной директории `pages`
Самый высокий приоритет в проекте. 
Не используется для организации роутинга шаблона. Как правило настроен и редактируется редко.


### 2) Страницы шаблона `templates/{name}/pages/index.ts` (конфиг)
Второй приоритет, использование отдельных страниц шаблона как правило
может потребоваться когда:
- Необходимо заверстать страницу до интеграции на данные
- Разработать уникальный раздел по задаче без необходимости в админке

Данные страницы не просто так подхватываюся как из директории `pages`
для добавления новой страницы необходимо добавть её в конфигурацию
`client/templates/{name}/pages/index.ts`, и указать `match` предикат
для совпадений, например для URL с параметрами `project/id` можно использовать
примерно такой подход:

```typescript
/^project\/(\d+)$/.test(candidate);
```

### 3) Страницы из административного интерфейса, создание страниц или crud
Запрашивает по URL существующую страницу в БД и при наличии простраивает
её на основании обьектной модели, собирается тут
`client/core/admin/components/RootPage/index.tsx`
